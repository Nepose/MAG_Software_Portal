"use strict";function canvasApp(){function init(){generate(),setInterval(function(){generate()},1e3)}function setLinePoints(iterations){var point,nextPoint,dx,newX,newY,newPoint,normalizeRate,pointList={first:{x:0,y:1}},lastPoint={x:1,y:1},minY=1,maxY=1;pointList.first.next=lastPoint;for(var i=0;iterations>i;i++)for(point=pointList.first;null!=point.next;)nextPoint=point.next,dx=nextPoint.x-point.x,newX=.5*(point.x+nextPoint.x),newY=.5*(point.y+nextPoint.y),newY+=dx*(2*Math.random()-1),newPoint={x:newX,y:newY},minY>newY?minY=newY:newY>maxY&&(maxY=newY),newPoint.next=nextPoint,point.next=newPoint,point=nextPoint;if(maxY!==minY)for(normalizeRate=1/(maxY-minY),point=pointList.first;null!=point;)point.y=normalizeRate*(point.y-minY),point=point.next;else for(point=pointList.first;null!==point;)point.y=1,point=point.next;return pointList}function generate(){for(var r,g,b,a,centerX,centerY,color,maxRad,minRad,phase,i=0;1>i;i++)maxRad=50+50*Math.random(),minRad=.88*maxRad,centerX=maxRad+Math.random()*(WINDOW_WIDTH-2*maxRad),centerY=maxRad+Math.random()*(WINDOW_HEIGHT-2*maxRad),r=Math.floor(255*Math.random()),g=Math.floor(255*Math.random()),b=Math.floor(255*Math.random()),a=.4,color="rgba("+r+","+g+","+b+","+a+")",phase=Math.random()*Math.PI*2,drawCircle(centerX,centerY,minRad,maxRad,phase,color)}function drawCircle(centerX,centerY,minRad,maxRad,phase,color){var point,rad,theta,x0,y0,twoPi=2*Math.PI,pointList=setLinePoints(9);for(context.strokeStyle=color,context.lineWidth=1,context.fillStyle=color,context.beginPath(),point=pointList.first,theta=phase,rad=minRad+point.y*(maxRad-minRad),x0=centerX+rad*Math.cos(theta),y0=centerY+rad*Math.sin(theta),context.lineTo(x0,y0);null!=point.next;)point=point.next,theta=twoPi*point.x+phase,rad=minRad+point.y*(maxRad-minRad),x0=centerX+rad*Math.cos(theta),y0=centerY+rad*Math.sin(theta),context.lineTo(x0,y0);context.stroke(),context.fill()}var theCanvas=document.createElement("canvas"),context=theCanvas.getContext("2d");document.body.appendChild(theCanvas),theCanvas.width=WINDOW_WIDTH,theCanvas.height=WINDOW_HEIGHT,init()}var DEBUG=!0,DEBUG_NAME="",DEBUG_SERVER="",EMULATION=!1,PATH_MODE_WEB=!1,PATH_ROOT=null,PATH_SYSTEM=null,PATH_MEDIA="/media/",WINDOW_WIDTH=screen.width,WINDOW_HEIGHT=screen.height,URL_PARAMS={},initFound=!1,proxy;PATH_ROOT=location.pathname.split("/"),PATH_ROOT[PATH_ROOT.length-1]="",PATH_ROOT=PATH_ROOT.join("/"),PATH_ROOT=location.protocol+"//"+location.host+PATH_ROOT+PATH_BASE,PATH_SYSTEM=PATH_ROOT+"system/",document.location.search&&document.location.search.substring(1).split("&").forEach(function(part){part=part.split("="),2===part.length&&(URL_PARAMS[part[0]]=decodeURIComponent(part[1]))}),void 0===window.gSTB?(DEBUG=EMULATION=!0,DEBUG_SERVER=DEBUG_SERVER||localStorage.getItem("DEBUG_SERVER"),DEBUG_NAME=DEBUG_NAME||localStorage.getItem("DEBUG_NAME"),WINDOW_WIDTH=parseInt(URL_PARAMS.width,10)||window.outerWidth,WINDOW_HEIGHT=parseInt(URL_PARAMS.height,10)||window.outerHeight,document.write('<script type="text/javascript" src="'+PATH_SYSTEM+'gstb.js"></script>\n'),document.write('<script type="text/javascript" src="'+PATH_SYSTEM+'debug.js"></script>\n'),document.write('<script type="text/javascript" src="http://'+DEBUG_SERVER+':8800/file/client.js"></script>\n'),document.write('<script type="text/javascript">if ( window.proxyClient ) {proxy = new proxyClient();if ( DEBUG_NAME && DEBUG_SERVER ) proxy.init({name:"'+DEBUG_NAME+'", host:"'+DEBUG_SERVER+'"}); }</script>\n'),window.addEventListener("load",function(){document.body.style.backgroundColor="black"})):(gSTB.SetNativeStringMode(!0),function(){var vars=JSON.parse(gSTB.GetEnv(JSON.stringify({varList:["debug","debug_name","debug_server"]})));!vars.errMsg&&vars.result&&(DEBUG="1"===vars.result.debug,DEBUG&&!URL_PARAMS.nodebug&&(document.write('<script type="text/javascript" src="'+PATH_SYSTEM+'debug.js"></script>\n'),DEBUG_NAME=DEBUG_NAME||vars.result.debug_name,DEBUG_SERVER=DEBUG_SERVER||vars.result.debug_server,DEBUG_NAME&&DEBUG_SERVER&&"1"!==stbStorage.getItem("spyjs.active")&&document.write('<script type="text/javascript" src="http://'+DEBUG_SERVER+":8000/target/target-script-min.js#"+DEBUG_NAME+'"></script>\n')))}());var PATH_IMG_SYSTEM=PATH_SYSTEM+"img/"+WINDOW_WIDTH+"/",PATH_IMG_PUBLIC=PATH_ROOT+"public/img/"+WINDOW_WIDTH+"/";window.moveTo(0,0),window.resizeTo(EMULATION?window.outerWidth:screen.width,EMULATION?window.outerHeight:screen.height),window.onload=function(){canvasApp()},window.onclick=function(){},window.oncontextmenu=EMULATION?null:function(){return!1};